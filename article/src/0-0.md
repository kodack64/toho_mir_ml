# はじめに

---

東方Projectという人気のあるゲームのシリーズがあります。東方はゲームですが、作中の音楽もまた非常に強い人気があります。東方の楽曲は独特な雰囲気があり、ある程度東方をプレイしているプレイヤーは未知の楽曲に対してもなんか東方っぽいな、と思えるようになります。

楽曲が楽曲が東方っぽいとは何でしょうか？SD90のRomantic Tpのトランペットがあるから？コード進行に特徴があるから？ドラムのパターンでしょうか？バックで鳴っているアルペジオがそれっぽい？用いられている音階に特徴がある？それとも東方のショットSEで潰れないようにするなどミックスの段階でゲーム独特の配慮があるから？[ZUN氏作曲音楽データベースWiki](http://www43.atwiki.jp/tohomusicdb/pages/1.html)のコラムではこの点に関していくつか考察がされていますが、どうすれば楽曲の東方らしさは定量的に評価できるのでしょうか？言い換えれば、楽曲が""東方っぽい""かどうかは機械的に判断できるのでしょうか？

このgitbookの記事は、C90三日目東ホ25aのサークル「あるくようなはやさで」で頒布された音楽評論冊子「あるくようなはやさで#03」に寄稿した記事「楽曲の""東方らしさ""を調べる」の、技術的部分についての記事です。単発のテックブログみたいなものだと思ってください。アニメやラノベを機械学習で分析する同人誌やテックブログがよくありますが、ああいったやつです。この記事では東方という特定のフォーカスからは離れて、Music information ritrieval(MIR)と機械学習(ML)で音楽を分析するという手続きについて書きます。MIR+MLは一つの大きな研究分野ですが、具体的な手続きについてラフに書いたブログはなかなか見ないので何かのきっかけになれば幸いです。

全般的にやっている流れは以下の画像のようになっています。
![やった内容](./img/abs.png)

この記事では評論以外の作法的な部分について書きます。最後の具体的に東方楽曲について分析した結果を知りたければぜひ雑誌を買ってみてください。雑誌は他にもいろいろな視点からの音楽の評論があります。

基本的にパッケージをぶん回すだけなのでそういった部分のバグはあまりないと思いますが、作法的な面で変なことしてたら@iKodackまで教えてもらえると嬉しいです。ソースコードは[github](http://github.com/kodack64/toho_mir_ml.git)にあります。
